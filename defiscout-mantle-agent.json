{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -1560,
        120
      ],
      "id": "7520d82f-b016-4971-83fe-13bacf7efed8",
      "name": "Telegram Trigger2",
      "webhookId": "d164910a-f343-4f69-a9e1-783e36427355",
      "credentials": {
        "telegramApi": {
          "id": "FW6pts6WnXbe5iHH",
          "name": "teleFL"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger2').item.json.message.chat.id }}",
        "text": "=The address was not found. Make sure that you have sent the correct Ethereum-address starting with 0x and try again",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -900,
        220
      ],
      "id": "966201d3-269e-4f7a-b82b-7f7e6b745716",
      "name": "ERROR MSG2",
      "webhookId": "b71565fd-73f2-46c7-8a25-0869a532dab0",
      "credentials": {
        "telegramApi": {
          "id": "FW6pts6WnXbe5iHH",
          "name": "teleFL"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger2').item.json.message.chat.id }}",
        "text": "Please wait a few minutes. I will check all the information and give you recommendations!",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -900,
        20
      ],
      "id": "8ddce85e-056c-47a3-88fc-8691fd9dfa8a",
      "name": "PLEASE WAIT MSG2",
      "webhookId": "4c5fd6ee-62ec-4ff7-badf-fe973b0899f0",
      "credentials": {
        "telegramApi": {
          "id": "FW6pts6WnXbe5iHH",
          "name": "teleFL"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger2').item.json.message.chat.id }}",
        "text": "={{ $('–≠–∫—Ä–∞–Ω–∏–∑–∞—Ü–∏—è Markdown2').item.json.messageEscaped }}",
        "replyMarkup": "=",
        "forceReply": {},
        "replyKeyboardOptions": {},
        "replyKeyboardRemove": {},
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "MarkdownV2"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        820,
        20
      ],
      "id": "5b1cce2a-2247-4e0f-8034-16cdc8bd9aeb",
      "name": "RESPONSE TO USER2",
      "webhookId": "b71565fd-73f2-46c7-8a25-0869a532dab0",
      "credentials": {
        "telegramApi": {
          "id": "FW6pts6WnXbe5iHH",
          "name": "teleFL"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const telegramText = $('Telegram Trigger2').first()?.json?.message?.text;\nconst inputText = $input.first()?.json?.text;\n\nconst text = (telegramText || inputText || '').toLowerCase();\nconst match = text.match(/(?:^|\\s)(0x[a-f0-9]{40})(?=\\s|$)/m);\n\nreturn [{\n  json: {\n    wallet: match ? match[1] : null,\n    message: match ? '‚úÖ –ê–¥—Ä–µ—Å –Ω–∞–π–¥–µ–Ω.' : '‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∞–¥—Ä–µ—Å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.',\n    fullText: text\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1340,
        120
      ],
      "id": "85a2b8b8-f41b-4ec7-95be-835dadc1ff4e",
      "name": "–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.telegram.org/bot8011194727:AAHTLQM5ba3p68Gc0qX7ZeqvVmLHlwKCGPk/sendMessage",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"chat_id\": \"{{$json.chat_id}}\",\n  \"text\": \"{{$json.messageEscaped}}\",\n  \"parse_mode\": \"MarkdownV2\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        600,
        20
      ],
      "id": "1dc5c0b3-fbb6-4181-a2a3-bfa9121bdbaf",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "a8bdb1e6-7af2-41e6-9e5d-216087e270ba",
              "leftValue": "={{ $json.wallet }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -1120,
        120
      ],
      "id": "59e6f896-3f27-4aee-ad68-fdf53cb17e1a",
      "name": "If2"
    },
    {
      "parameters": {
        "jsCode": "function escapeMarkdownV2(text) {\n  return text\n    .replace(/([_*\\[\\]()~`>#+=|{}.!\\-])/g, '\\\\$1') // —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã MarkdownV2\n    .replace(/\\\\/g, '\\\\\\\\')                       // —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª–µ—à\n    .replace(/\"/g, '\\\\\"')                         // —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏\n    .replace(/\\n/g, '\\\\n');                       // –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫\n}\n\n// –ü–æ–ª—É—á–∞–µ–º chat_id –∏–∑ Telegram Trigger\nconst chatId = $('Telegram Trigger2').first().json.message.chat.id;\n\n// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ AI output\nconst rawText = $input.first().json.output || 'Empty message';\n\n// –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç\nconst escaped = escapeMarkdownV2(rawText);\n\nreturn [\n  {\n    json: {\n      chat_id: chatId,\n      messageEscaped: escaped   // <--- –ò—Å–ø–æ–ª—å–∑—É–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç!\n    }\n  }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        380,
        20
      ],
      "id": "a83268f3-2156-4e0b-b3a1-a8280e7564b6",
      "name": "–≠–∫—Ä–∞–Ω–∏–∑–∞—Ü–∏—è Markdown2"
    },
    {
      "parameters": {
        "model": "openai/o4-mini",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        40,
        240
      ],
      "id": "7184f9a9-c955-4890-bec2-c1ad9954d5bc",
      "name": "OpenRouter Chat Model1",
      "credentials": {
        "openRouterApi": {
          "id": "AAmyi1FI3eCgvLVG",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2').item.json.fullText }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "System Prompt\n\nRole: AI-–∞–Ω–∞–ª–∏—Ç–∏–∫ Mantle Network  \nData Sources:  \n1. NebulaAPI ‚Äì –±–∞–ª–∞–Ω—Å, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–æ–±—ã—Ç–∏—è  \n2. DefiLlama ‚Äì –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, TVL, –ø—É–ª—ã  \n3. LlamaPriceAPI ‚Äì –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º –∏ –∞–¥—Ä–µ—Å–∞–º)\n\n–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:  \n1. Nebula:  \n   - –ó–∞–ø—Ä–æ—Å getWalletData ‚Üí —Ç–æ–ø-5 –∞–∫—Ç–∏–≤–æ–≤ (–±–∞–ª–∞–Ω—Å ‚â•$50)  \n   - –ò–∑–≤–ª–µ—á—å: —Å–∏–º–≤–æ–ª, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å—Ç–æ–∏–º–æ—Å—Ç—å (USD), % –ø–æ—Ä—Ç—Ñ–µ–ª—è, 3 –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏\n- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É (LlamaPriceAPI(tool price), )  \n   - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å: —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ USD, % –æ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è  \n   - –£–∫–∞–∑–∞—Ç—å 3 –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –∞–∫—Ç–∏–≤—É    \n\n2. DefiLlama:  \n   - –ó–∞–ø—Ä–æ—Å /protocols ‚Üí —Ñ–∏–ª—å—Ç—Ä ecosystem=Mantle  \n   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã: \"–õ–µ–Ω–¥–∏–Ω–≥\" / \"–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å\"  \n   - –ò–∑–≤–ª–µ—á—å: TVL, APY/APR, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–æ–≤\n\n3. LlamaPriceAPI ‚Äì –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º –∏ –∞–¥—Ä–µ—Å–∞–º)  \n\n\n4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:  \n   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–∞ ‚Üí 2 –ª–µ–Ω–¥–∏–Ω–≥–∞ + 2 –ø—É–ª–∞  \n   - –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: ¬±15% –æ—Ç —Ç–µ–∫—É—â–µ–π (–∞–≤—Ç–æ-—Ä–∞—Å—á—ë—Ç)  \n   - –£–∫–∞–∑–∞—Ç—å —Ä–∏—Å–∫–∏ (IL, LTV, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)  \n\nFORMAT:  \n- Markdown —Å —Å–µ–∫—Ü–∏—è–º–∏: \"1. –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–æ–≤\", \"2. –û–±–∑–æ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤\", \"3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏\"  \n- –≠–º–æ–¥–∑–∏: üè¶/üíß + —Ç–∞–±–ª–∏—Ü—ã  \n- –§–∏–Ω–∞–ª: ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä\n- –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown, –Ω–æ –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ Markdown V2. \n-–ü–µ—Ä–µ–≤–µ–¥–∏  —Ç–µ–∫—Å—Ç –Ω–∞ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫(Answer in English) \n\n\n–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:\n\nmarkdown  \n# 1. –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–æ–≤ üßÆ  \n\n| –ê–∫—Ç–∏–≤ | –ë–∞–ª–∞–Ω—Å | –°—Ç–æ–∏–º–æ—Å—Ç—å | % –ü–æ—Ä—Ç—Ñ–µ–ª—è |  \n|-------|--------|-----------|------------|  \n| MNT   | 1,200  | $1,560    | 38%        |  \n| USDC  | 1,500  | $1,500    | 37%        |  \n\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:  \n- MNT: –î–µ–ø–æ–∑–∏—Ç 2 —á –Ω–∞–∑–∞–¥ (500 MNT ‚Üí –∫–æ—à–µ–ª—ë–∫)  \n- USDC: –í—ã–≤–æ–¥ $800 –≤—á–µ—Ä–∞  \n\n# 2. –û–±–∑–æ—Ä DeFi-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ üìä  \n\nüè¶ –õ–µ–Ω–¥–∏–Ω–≥:  \n| –ü—Ä–æ—Ç–æ–∫–æ–ª  | TVL      | APR   | –£—Å–ª–æ–≤–∏—è          |  \n|-----------|----------|-------|------------------|  \n| Lendle    | $28M     | 12.4% | LTV 65%, Flex    |  \n| Minterest | $15M     | 9.8%  | –§–∏–∫—Å. —Å—Ç–∞–≤–∫–∞ 30–¥ |  \n\nüíß –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:  \n| –ü—É–ª        | TVL      | –û–±—ä—ë–º/24—á | –ö–æ–º–∏—Å—Å–∏—è |  \n|------------|----------|-----------|----------|  \n| MNT/USDC   | $12M     | $1.2M     | 0.3%     |  \n| wETH/USDT  | $8.5M    | $890k     | 0.05%    |  \n\n# 3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ üéØ  \n\nMNT:  \nüè¶ –õ–µ–Ω–¥–∏–Ω–≥:  \n1. Lendle (APR 12.4%) ‚Äì 50% –±–∞–ª–∞–Ω—Å–∞  \n2. Minterest (APR 9.8%) ‚Äì 30% –±–∞–ª–∞–Ω—Å–∞  \n\nüíß –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å:  \n1. MNT/USDC: –î–∏–∞–ø–∞–∑–æ–Ω $0.95‚Äì$1.25 (–ø—Ä–æ–≥–Ω–æ–∑ APY 18-25%)  \n2. MNT/wETH: –î–∏–∞–ø–∞–∑–æ–Ω $1.02‚Äì$1.38 (–ø—Ä–æ–≥–Ω–æ–∑ APY 14-20%)  \n\n‚ö†Ô∏è –≠—Ç–æ –Ω–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–æ–≤–µ—Ç. –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.*  \n–ì–æ—Ç–æ–≤–æ! üöÄ"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        0,
        0
      ],
      "id": "b9ca0010-4afc-4c49-bf4e-a5d7635239a2",
      "name": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê–∫—Ç–∏–≤–æ–≤(–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç)2"
    },
    {
      "parameters": {
        "toolDescription": "–û–±—â–µ–Ω–∏–µ —Å Nebula",
        "method": "POST",
        "url": "https://nebula-api.thirdweb.com/chat",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-secret-key",
              "value": "QFunJuPhqXyoomhWnORsRk7vWZmSgpqLKfyl1d4JQugnx3ksmF_TwI_c9akJS0x5QUTIYYn-76MYu5oIFb3EEw"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "message",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', `—Ç—É—Ç –Ω–∞–ø–∏—à–∏ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Nebula`, 'string') }}"
            },
            {
              "name": "stream",
              "value": "false"
            },
            {
              "name": "context",
              "value": "={{ { chain_ids: [\"5000\"], wallet_address: $('–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2').item.json.wallet } }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        160,
        240
      ],
      "id": "7d2ccba9-15ce-48a7-b684-44f93dd3d104",
      "name": "nebula_api_too2"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {
          "responseFormat": "text"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -680,
        240
      ],
      "id": "3784b2a6-9663-4f0e-afee-26a368a54d28",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "L6Kr2XHDsgey2BlI",
          "name": "testDavy"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2').item.json.wallet }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "{\n  \"role\": \"agent\",\n  \"name\": \"mantle_wallet_analyzer\",\n  \"description\": \"–ò–ò-–∞–≥–µ–Ω—Ç, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π –∫—Ä–∏–ø—Ç–æ–ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Mantle.\",\n  \"instructions\": [\n    \"–®–∞–≥ 1: –°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ tool 'wallet_query' –∫ API https://nebula-api.thirdweb.com/chat, –∏—Å–ø–æ–ª—å–∑—É—è 'wallet'.\",\n    \"–®–∞–≥ 2: –î–æ–∂–¥–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –ø–æ–ª—É—á–∏ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–æ–≤ (assets), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö—Ä–∞–Ω–∏—Ç.\",\n    \"–®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–∏ –∞–∫—Ç–∏–≤—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ 'price1' (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã), 'mantle_protocols1' (–æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤), –∏ 'mantle_chain1' (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–π).\",\n    \"–®–∞–≥ 4: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤, —Ä–∏—Å–∫–∏, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –∏ —Ç—Ä–µ–Ω–¥—ã.\",\n    \"–®–∞–≥ 5: –°—Ñ–æ—Ä–º–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Markdown-–æ—Ç—á—ë—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, –∏ JSON-—Å–≤–æ–¥–∫—É.\"\n  ],\n  \"input_format\": {\n    \"wallet\": \"string\",\n    \"wallet_info\": \"object\",\n    \"assets\": \"array\",\n    \"chains_result\": \"object\",\n    \"protocols_result\": \"object\"\n  },\n  \"output_format\": {\n    \"report\": \"string\",\n    \"summary\": {\n      \"highRiskProtocols\": \"array\",\n      \"suggestedRebalance\": \"array\",\n      \"underutilizedChains\": \"array\"\n    }\n  },\n  \"tools\": [\n    {\n      \"name\": \"wallet_query\",\n      \"description\": \"–°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ—à–µ–ª—å–∫–µ —á–µ—Ä–µ–∑ API thirdweb (–∞–∫—Ç–∏–≤—ã, –ø–æ–∑–∏—Ü–∏–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å).\"\n    },\n    {\n      \"name\": \"mantle_protocols1\",\n      \"description\": \"–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º Mantle (TVL, —Ä–∏—Å–∫–∏, –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å).\"\n    },\n    {\n      \"name\": \"mantle_chain1\",\n      \"description\": \"–ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–µ—Ç—è–º Mantle (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å, TVL).\"\n    },\n    {\n      \"name\": \"price1\",\n      \"description\": \"–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –ø–æ –∞–∫—Ç–∏–≤–∞–º –∏–∑ –∫–æ—à–µ–ª—å–∫–∞.\"\n    }\n  ],\n  \"pass_to_next\": true\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        -520,
        20
      ],
      "id": "3fd04951-9e7e-421e-ba45-8a97abc6d62e",
      "name": "–ê–ù–ê–õ–ò–ó1"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "JaHIadOs0yHWoYCN",
          "mode": "list",
          "cachedResultName": "DeFillama_Mantle_Protocols"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -560,
        240
      ],
      "id": "7c3e8bcb-b83c-458d-bc1b-16f5e8b401d9",
      "name": "mantle_protocols2"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "0tulZ8gLtJVifN2N",
          "mode": "list",
          "cachedResultName": "Defi_Mantle_chains(—Å–µ—Ç—å)"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -440,
        240
      ],
      "id": "55dade0b-446b-4e29-92b1-72d9ee78b175",
      "name": "mantle_chain2"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "F4R3P0SbWKeE3dD4",
          "mode": "list",
          "cachedResultName": "–ø–æ –≤—Å–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º –¥–ª—è –ø—Ä–∞–π—Å–æ"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -320,
        260
      ],
      "id": "684f1f7b-0cda-4973-b34e-f575596a216a",
      "name": "price2"
    },
    {
      "parameters": {
        "toolDescription": "–û–±—â–µ–Ω–∏–µ —Å Nebula",
        "method": "POST",
        "url": "https://nebula-api.thirdweb.com/chat",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-secret-key",
              "value": "QFunJuPhqXyoomhWnORsRk7vWZmSgpqLKfyl1d4JQugnx3ksmF_TwI_c9akJS0x5QUTIYYn-76MYu5oIFb3EEw"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "message",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', `—Ç—É—Ç –Ω–∞–ø–∏—à–∏ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è Nebula`, 'string') }}"
            },
            {
              "name": "stream",
              "value": "false"
            },
            {
              "name": "context",
              "value": "={{ { chain_ids: [\"5000\"], wallet_address: $('–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2').item.json.wallet } }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        -200,
        240
      ],
      "id": "c7f050d9-8f51-4f21-836a-81113b222f43",
      "name": "nebula_api_too3"
    }
  ],
  "pinData": {},
  "connections": {
    "Telegram Trigger2": {
      "main": [
        [
          {
            "node": "–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "PLEASE WAIT MSG2": {
      "main": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ò–∑–≤–ª–µ—á—å –∫–æ—à–µ–ª—ë–∫ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è2": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "RESPONSE TO USER2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "PLEASE WAIT MSG2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ERROR MSG2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–≠–∫—Ä–∞–Ω–∏–∑–∞—Ü–∏—è Markdown2": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê–∫—Ç–∏–≤–æ–≤(–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç)2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê–∫—Ç–∏–≤–æ–≤(–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç)2": {
      "main": [
        [
          {
            "node": "–≠–∫—Ä–∞–Ω–∏–∑–∞—Ü–∏—è Markdown2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "nebula_api_too2": {
      "ai_tool": [
        [
          {
            "node": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê–∫—Ç–∏–≤–æ–≤(–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç)2",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "–ê–ù–ê–õ–ò–ó1": {
      "main": [
        [
          {
            "node": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ê–∫—Ç–∏–≤–æ–≤(–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç)2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "mantle_protocols2": {
      "ai_tool": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "mantle_chain2": {
      "ai_tool": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "price2": {
      "ai_tool": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "nebula_api_too3": {
      "ai_tool": [
        [
          {
            "node": "–ê–ù–ê–õ–ò–ó1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "aeeb0062-52e5-4b79-acf8-6616fd671aef",
  "meta": {
    "instanceId": "ee6eea47c082d020b464b486c299fcc74833fad966a25b893934030abf5a82cb"
  },
  "id": "QBOrRirNcDzxrKgH",
  "tags": []
}